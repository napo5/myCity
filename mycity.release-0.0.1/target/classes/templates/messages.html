<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout (~{::body},'messages')}">
<head>
<title>Spring Boot: javabeginnerstutorial.com</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<div th:switch="${#lists.size(messages)}">
<span th:case="'0'">
<div class="alert alert-danger" role="alert">
  NO MESSAGES AVAILABLE!
</div>
</span>
<span th:case="*">

<h2>Message List</h2>
<div style="overflow-x:auto;">
<table class="table table-striped">
<tr>
<th>Id</th>
<th>Name Sender</th>
<th>Surname Sender</th>
<th>Role</th>
<th>Description</th>
<th>Report Relativo</th>
<th>Accept</th>
<th></th>
<th></th>
<th>Refuse</th>
<th></th>
<th></th>
</tr>
<tr th:each="message : ${messages}">
<form class="acceptRefuseTask" id="acceptRefuseTask"  method="post">
<td th:text="${message.id}"></td>
<td th:text="${message.senderName}"></td>
<td th:text="${message.senderSurname}"></td>
<td th:text="${message.senderRole}"></td>
<td th:text="${message.description}"></td>
<td><a class="btn btn-default" th:href="@{/seeReport/} + ${message.idReport}">Report Relativo</a></td>
<td><button class="btn btn-default" type="submit" id="acceptTask" value="Accept Task" th:if="${message.read == false}">Accept Task</button></td>
<td><textarea class="id" id="idReport" name="id" rows="3" cols="70" th:text="${message.idReport}" style="display:none;">id</textarea></td>
<td><textarea class="id" id="idMessage" name="id" rows="3" cols="70" th:text="${message.id}" style="display:none;">id</textarea></td>
</form><form class="acceptRefuseTask" id="acceptRefuseTask"  method="post">
<td><button class="btn btn-default" id="refuseTask" type="submit" value="Refuse Task" th:if="${message.read == false}">Refuse Task</button></td>
<td><textarea class="id" id="idReport" name="id" rows="3" cols="70" th:text="${message.idReport}" style="display:none;">id</textarea></td>
<td><textarea class="id" id="idMessage" name="id" rows="3" cols="70" th:text="${message.id}" style="display:none;">id</textarea></td>
</form>
</tr>
</table>
<div id="messageResponse"></div>
</div>
<a class="btn btn-default" th:href="${refer}">Back</a>

</span>
</div>
</body>
</html>