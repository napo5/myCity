<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout (~{::body},'people')}">
<head>
<title>Spring Boot: javabeginnerstutorial.com</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<div th:switch="${#lists.size(persons)}">
<span th:case="'0'"><div class="alert alert-danger" role="alert">
  NO PEOPLE AVAILABLE!
</div></span>
<div th:case="*">
<h2>Person List</h2>
<div style="overflow-x:auto;">
<table class="table table-striped">
<tr>
<th>Id</th>
<th>Name</th>
<th>Surname</th>
<th>Email</th>
<th>Role</th>
<th th:if="${currentPerson.isAdmin() == true}">Cookie</th>
<th>His reports</th>
<th th:if="${currentPerson.isAdmin() == true}">Set CA</th> <!-- th:if="${currentPerson.isAdmin() == true}" -->
</tr>
<tr th:each="person : ${persons}">
<td th:text="${person.id}"></td>
<td th:text="${person.name}"></td>
<td th:text="${person.surname}"></td>
<td th:text="${person.email}"></td>
<td th:text="${person.role}"></td>
<td th:if="${currentPerson.isAdmin() == true}" th:text="${person.cookie}"></td>
<td><a class="btn btn-default" th:href="@{/person/} + ${person.id}" title="See all his reports!">Reports</a></td>
<td th:if="${currentPerson.isAdmin() == true}"><a class="btn btn-default" th:href="@{/setCityAdmin/} + ${person.id}" title="Set him as a City Admin!">Set CA</a></td>
</tr>
</table>
</div>
<a class="btn btn-default" th:href="${refer}">Back</a>
</div>
</div>
</body>
</html>